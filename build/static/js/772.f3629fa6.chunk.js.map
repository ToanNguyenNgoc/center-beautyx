{"version":3,"file":"static/js/772.f3629fa6.chunk.js","mappings":"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","sources":["app/api/api-3rd-client/client.ts","app/api/api-3rd-client/request.ts","app/pages/trends/index.tsx","components/TitlePage/index.tsx"],"sourcesContent":["import axios from 'axios'\nimport queryString from 'query-string'\n\n// export const baseURL = 'https://api-node-myspa.vercel.app/v1'\nexport const baseURL = 'http://localhost:3004/v1'\n\nconst axios3rdClient = axios.create({\n    baseURL: baseURL,\n    headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n    },\n    paramsSerializer: (params) => queryString.stringify(params),\n})\naxios3rdClient.interceptors.request.use(async (config) => {\n    return config\n})\naxios.interceptors.response.use(\n    (response) => {\n        if (response && response.data) {\n            return response.data\n        }\n        return response\n    },\n    (error) => {\n        throw error\n    }\n)\n\nexport default axios3rdClient\n","import axios3rdClient from \"./client\";\n\nconst token = localStorage.getItem('3rd-auth')\nclass Request {\n    postTrend = (values: any) => {\n        return axios3rdClient.post('/trends', values, {\n            headers: {\n                Authorization: `Bearer ${token}`,\n            },\n        })\n    }\n    refreshComment = (id: string) => {\n        return axios3rdClient.get(`/tiktok/refresh_comment/${id}`)\n    }\n}\nconst request3rdApi = new Request();\nexport default request3rdApi","import TitlePage from 'components/TitlePage'\nimport { SnackAlert, XButton, XPagination } from 'components'\nimport React from 'react'\nimport { useLocation, useNavigate } from 'react-router-dom'\nimport { useFetch, useGetParamUrl, useNoti } from 'app/hooks'\nimport { API_3RD } from 'app/api/api-route'\nimport dayjs from 'dayjs'\nimport { toAbsoluteUrl } from '_metronic/helpers'\nimport { ITrend } from './trend.interface'\nimport request3rdApi from 'app/api/api-3rd-client/request'\n\nfunction Trend() {\n  const navigate = useNavigate()\n  const location = useLocation()\n  const query: any = useGetParamUrl()\n  const { totalPage, response } = useFetch(true, `${API_3RD.TRENDS}?page=${query?.page ?? 1}&include=services`)\n  const onChangePage = (page: number) => {\n    navigate({\n      pathname: location.pathname,\n      search: `page=${page}`\n    })\n  }\n  return (\n    <>\n      <TitlePage\n        title='Trends'\n        element={\n          <XButton title='Tạo mới' color='success' onClick={() => navigate('/pages/trend-form')} />\n        }\n      />\n      <div className={`card mb-5 mb-xl-8`}>\n        <div className='card-header border-0 pt-5'>\n          <h3 className='card-title align-items-start flex-column'>\n            <span className='card-label fw-bold fs-3 mb-1'>Bài đăng</span>\n            {/* <span className='text-muted mt-1 fw-semobold fs-7'>Over {totalItem}</span> */}\n          </h3>\n        </div>\n        <div className='card-body py-3'>\n          <div className='table-responsive'>\n            <table className='table table-row-dashed table-row-gray-300 align-middle gs-0 gy-4'>\n              <thead>\n                <tr className='fw-bold text-muted'>\n                  <th className='min-w-100px'>Bài đăng</th>\n                  <th className='min-w-140px'>Doanh nghiệp</th>\n                  <th className='min-w-140px'>Dịch vụ được gán</th>\n                  <th className='min-w-120px'>Ngày đăng</th>\n                  <th className='min-w-120px'>Ngày sửa</th>\n                  <th className='min-w-100px'>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {response?.data?.map((item: ITrend) => (\n                  <TrendRow key={item._id} item={item} />\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n      <XPagination\n        onChangePage={onChangePage}\n        totalPage={totalPage}\n        defaultPage={query?.page ?? 1}\n      />\n    </>\n  )\n}\n\nconst TrendRow = ({ item }: { item: ITrend }) => {\n  const navigate = useNavigate()\n  const { firstLoad, noti, resultLoad, onCloseNoti } = useNoti()\n  const handleDetail = (serviceDetail: ITrend) => {\n    navigate(`/pages/trend-form/${serviceDetail._id}`)\n  }\n  const onRefreshComment = async () => {\n    firstLoad()\n    try {\n      const res = await request3rdApi.refreshComment(item._id)\n      if (res) {\n        resultLoad('Refresh comment success !')\n      }\n    } catch (error) {\n      resultLoad('Refresh comment fail !')\n    }\n  }\n\n  return (\n    <>\n      <tr key={item._id}>\n        <td>\n          <div className='d-flex align-items-center'>\n            <div className='symbol symbol-45px me-5'>\n              <img src={toAbsoluteUrl(item.organization_image)} alt='' />\n            </div>\n            <div className='d-flex justify-content-start flex-column'>\n              <span className='text-dark fw-bold fs-6'>{item.title}</span>\n            </div>\n          </div>\n        </td>\n        <td>\n          <span className='text-dark fw-bold d-block fs-6'>\n            {item.organization_name}\n          </span>\n        </td>\n        <td>\n          {item.services?.map((service) => (\n            <p key={service.id} className='text-dark d-block fs-6'>\n              {service.service_name}\n            </p>\n          ))}\n        </td>\n        <td>\n          <span className='text-dark d-block fs-7'>\n            {dayjs(item.createdAt).format('DD/MM/YYYY')}\n          </span>\n        </td>\n        <td>\n          <span className='text-dark d-block fs-7'>\n            {dayjs(item.updatedAt).format('DD/MM/YYYY')}\n          </span>\n        </td>\n        <td>\n          <div className='d-flex justify-content-end flex-shrink-0'>\n            <button\n              onClick={() => handleDetail(item)}\n              style={{ marginRight: '6px' }}\n              className='btn btn-bg-light btn-color-muted btn-active-color-primary btn-sm px-4'\n            >\n              <i className='bi bi-pencil-fill fs-6'></i>\n            </button>\n            <button\n              onClick={onRefreshComment}\n              className='btn btn-bg-light btn-color-muted btn-active-color-primary btn-sm px-4'\n            >\n              <i className=\"bi bi-arrow-clockwise\"></i>\n            </button>\n          </div>\n        </td>\n      </tr>\n      <SnackAlert\n        open={noti.openAlert}\n        onClose={onCloseNoti}\n        title={noti.message}\n      />\n    </>\n  )\n}\n\nexport default Trend\n","import React from 'react';\nimport './style.scss'\n\ninterface IProps {\n    title: string\n    element?: JSX.Element\n}\n\nfunction TitlePage(props: IProps) {\n    const { title, element } = props;\n    return (\n        <div className='toolbar' id='kt_toolbar'>\n            <div id=\"kt_toolbar_container\" className='container-fluid d-flex flex-stack'>\n                <h1 className='d-flex align-items-center text-dark fw-bolder my-1 fs-3'>\n                    {title}\n                </h1>\n                {element}\n            </div>\n        </div>\n    );\n}\n\nexport default TitlePage;"],"names":["axios3rdClient","axios","baseURL","headers","Accept","paramsSerializer","params","queryString","interceptors","request","use","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","config","wrap","_context","prev","next","abrupt","stop","_x","apply","arguments","response","data","error","token","localStorage","getItem","_createClass","Request","_classCallCheck","postTrend","values","post","Authorization","concat","refreshComment","id","get","TrendRow","_item$services","item","navigate","useNavigate","_useNoti","useNoti","firstLoad","noti","resultLoad","onCloseNoti","onRefreshComment","_ref2","request3rdApi","_id","sent","t0","_jsxs","_Fragment","children","_jsx","className","src","toAbsoluteUrl","organization_image","alt","title","organization_name","services","map","service","service_name","dayjs","createdAt","format","updatedAt","onClick","style","marginRight","SnackAlert","open","openAlert","onClose","message","_query$page","_response$data","_query$page2","location","useLocation","query","useGetParamUrl","_useFetch","useFetch","API_3RD","TRENDS","page","totalPage","TitlePage","element","XButton","color","XPagination","onChangePage","pathname","search","defaultPage","props"],"sourceRoot":""}