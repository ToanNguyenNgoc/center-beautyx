"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[389],{96328:function(e,t,a){a.d(t,{y:function(){return c},S:function(){return d}});var n=a(43144),i=a(15671),s=a(21075),l=a(16229),r=a(763),o=a(65602),c=new((0,n.Z)((function e(){(0,i.Z)(this,e),this.putApprove=function(e,t){return s.Z.put(l.NK.APPROVES_BY_ID(e),(0,r.pickBy)(t,r.identity),(0,o.KH)())}}))),d=new((0,n.Z)((function e(){(0,i.Z)(this,e),this.postDiscount=function(e){return s.Z.post(l.NK.DISCOUNTS,e,(0,o.KH)())},this.getAll=function(e){return s.Z.get(l.NK.DISCOUNTS,{params:(0,r.pickBy)(e,r.identity)}).then((function(e){return e.data.context}))},this.getDiscountDetail=function(e){return s.Z.get(l.NK.DISCOUNTS_ID(e.id),{params:(0,r.pickBy)(e,r.identity)}).then((function(e){return e.data}))}})))},49389:function(e,t,a){a.r(t),a.d(t,{default:function(){return w}});var n=a(1413),i=a(16871),s=a(43504),l=a(5239),r=a(11838),o=a(15842),c=a(6991),d=a(64248),m=a(72930),u=a(10193),p=a(91933),h=a(83323),x=a(96328),v=a(4245),f=a(66362),g=a(17964),b=a(39891),j=a(35259),y=a(763),N=a(80184);var Z=function(e){var t,a,s,l=e.query,r=[{sort:"-created_at",title:"Ng\xe0y t\u1ea1o"},{sort:"-total",title:"S\u1ed1 l\u01b0\u1ee3ng m\xe3"},{sort:"-priority",title:"\u0110\u1ed9 \u01b0u ti\xean"}],o=(0,i.s0)(),d=(0,i.TH)();return(0,N.jsx)("div",{className:"filter-cnt",children:(0,N.jsxs)("div",{className:"filter-row",children:[(0,N.jsxs)("div",{className:"filter-row_platform",children:[(0,N.jsx)("label",{className:"filter-row_label",children:"H\xecnh th\u1ee9c gi\u1ea3m gi\xe1"}),(0,N.jsx)(f.Z,{sx:{m:1,minWidth:150},size:"small",children:(0,N.jsxs)(g.Z,{labelId:"demo-select-small-label",id:"demo-select-small",value:null!==(t=l["filter[discount_type]"])&&void 0!==t?t:"",onChange:function(e){var t=(0,n.Z)((0,n.Z)({},l),{},{page:1,"filter[discount_type]":""!==e.target.value?e.target.value:""});o({pathname:d.pathname,search:v.stringify((0,y.pickBy)(t,y.identity))})},children:[(0,N.jsx)(b.Z,{value:"",children:(0,N.jsx)("em",{children:"T\u1ea5t c\u1ea3"})}),c.id.map((function(e){return(0,N.jsx)(b.Z,{value:e.TYPE,children:e.title},e.id)}))]})})]}),(0,N.jsxs)("div",{className:"filter-row_platform",children:[(0,N.jsx)("label",{className:"filter-row_label",children:"N\u1ec1n t\u1ea3ng"}),(0,N.jsx)(f.Z,{sx:{m:1,minWidth:150},size:"small",children:(0,N.jsxs)(g.Z,{labelId:"demo-select-small-label",id:"demo-select-small",value:null!==(a=l["filter[platform]"])&&void 0!==a?a:"",onChange:function(e){var t=(0,n.Z)((0,n.Z)({},l),{},{page:1,"filter[platform]":""!==e.target.value?e.target.value:""});o({pathname:d.pathname,search:v.stringify((0,y.pickBy)(t,y.identity))})},children:[(0,N.jsx)(b.Z,{value:"",children:(0,N.jsx)("em",{children:"T\u1ea5t c\u1ea3"})}),j.eN.map((function(e){return(0,N.jsx)(b.Z,{value:e,children:e},e)}))]})})]}),(0,N.jsxs)("div",{className:"filter-row_platform",children:[(0,N.jsx)("label",{className:"filter-row_label",children:"S\u1eafp x\u1ebfp theo"}),(0,N.jsx)(f.Z,{sx:{m:1,minWidth:150},size:"small",children:(0,N.jsx)(g.Z,{labelId:"demo-select-small-label",id:"demo-select-small",value:null!==(s=l.sort)&&void 0!==s?s:r[0].sort,onChange:function(e){var t=(0,n.Z)((0,n.Z)({},l),{},{sort:e.target.value});o({pathname:d.pathname,search:v.stringify(t)})},children:r.map((function(e){return(0,N.jsx)(b.Z,{value:e.sort,children:e.title},e.sort)}))})})]})]})})},w=function(){var e,t,a,f,g=(0,i.TH)(),b=(0,i.s0)(),j=v.parse(g.search),y=(0,l.l7)().METHOD,w=(0,p.useQuery)({queryKey:[h.x.DISCOUNT_PAGE,j],queryFn:function(){var e,t;return x.S.getAll({page:null!==(e=null===j||void 0===j?void 0:j.page)&&void 0!==e?e:1,limit:10,"filter[platform]":j["filter[platform]"],"filter[discount_type]":j["filter[discount_type]"],sort:null!==(t=j.sort)&&void 0!==t?t:"-created_at"})}}).data,k=null!==(e=null===w||void 0===w?void 0:w.data)&&void 0!==e?e:[];return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(r.Z,{element:(0,N.jsx)(s.rU,{to:{pathname:"/pages/discounts-form"},className:"btn btn-sm btn-primary",children:"T\u1ea1o m\u1edbi"}),title:"Danh s\xe1ch M\xe3 gi\u1ea3m gi\xe1"}),(0,N.jsxs)("div",{className:"card mb-5 mb-xl-8",children:[(0,N.jsx)("div",{className:"card-header border-0 pt-5",children:(0,N.jsxs)("h3",{className:"card-title align-items-start flex-column",children:[(0,N.jsx)("span",{className:"card-label fw-bold fs-3 mb-1",children:"M\xe3 gi\u1ea3m gi\xe1"}),(0,N.jsxs)("span",{className:"text-muted mt-1 fw-semobold fs-7",children:["S\u1ed1 l\u01b0\u1ee3ng : ",null!==(t=null===w||void 0===w?void 0:w.total)&&void 0!==t?t:1]})]})}),(0,N.jsx)(Z,{query:j}),(0,N.jsx)("div",{className:"card-body py-3",children:(0,N.jsxs)("div",{className:"table-responsive",children:[(0,N.jsxs)("table",{className:"table table-row-dashed table-row-gray-300 align-middle gs-0 gy-4",children:[(0,N.jsx)("thead",{children:(0,N.jsxs)("tr",{className:"fw-bold text-muted",children:[(0,N.jsx)("th",{className:"min-w-150px",children:"Ti\xeau \u0111\u1ec1"}),(0,N.jsx)("th",{className:"min-w-80px",children:"\u01afu ti\xean"}),(0,N.jsx)("th",{className:"min-w-150px",children:"H\xecnh th\u1ee9c gi\u1ea3m"}),(0,N.jsx)("th",{className:"min-w-100px",children:"T\u1eeb ng\xe0y"}),(0,N.jsx)("th",{className:"min-w-100px",children:"\u0110\u1ebfn ng\xe0y"}),(0,N.jsx)("th",{className:"min-w-100px text-end",children:"N\u1ec1n t\u1ea3ng"}),(0,N.jsx)("th",{className:"min-w-100px text-end",children:"S\u1ed1 l\u01b0\u1ee3ng m\xe3"}),(0,N.jsx)("th",{className:"min-w-150px text-end",children:"S\u1eed d\u1ee5ng/1 kh\xe1ch"}),(0,N.jsx)("th",{className:"min-w-100px text-end",children:"Actions"})]})}),(0,N.jsx)("tbody",{children:k.map((function(e,t){var a,n,i,l;return(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{children:(0,N.jsxs)("div",{className:"d-flex align-items-center",children:[(0,N.jsx)("div",{className:"symbol symbol-45px me-5",children:(0,N.jsx)("img",{src:null===(a=e.items[0])||void 0===a||null===(n=a.productable)||void 0===n?void 0:n.image_url,alt:""})}),(0,N.jsxs)("div",{className:"d-flex justify-content-start flex-column",children:[(0,N.jsx)("span",{className:"text-dark fw-bold text-hover-primary fs-6",children:e.title}),(0,N.jsx)("span",{className:"text-muted fw-semobold text-muted d-block fs-7",children:(0,o.p6)(e.created_at)})]})]})}),(0,N.jsx)("td",{children:(0,N.jsx)("span",{className:"text-dark text-center fw-bold d-block mb-1 fs-7",children:e.priority})}),(0,N.jsx)("td",{children:(0,N.jsx)("div",{className:"d-flex flex-column w-100 me-2",children:(0,N.jsx)(c.zs,{TYPE:e.discount_type})})}),(0,N.jsx)("td",{children:(0,N.jsx)("span",{className:"text-muted fw-semobold text-muted d-block fs-7",children:(0,o.p6)(e.valid_from)})}),(0,N.jsx)("td",{children:(0,N.jsx)("span",{className:"text-muted fw-semobold text-muted d-block fs-7",children:(0,o.p6)(e.valid_util)})}),(0,N.jsx)("td",{children:(0,N.jsx)(d.Z,{platForm:e.platform})}),(0,N.jsx)("td",{children:(0,N.jsx)("span",{className:"text-muted fw-semobold text-muted d-block fs-7",children:null!==(i=e.total)&&void 0!==i?i:"Kh\xf4ng gi\u1edbi h\u1ea1n"})}),(0,N.jsx)("td",{children:(0,N.jsx)("span",{className:"text-muted text-end fw-semobold text-muted d-block fs-7",children:null!==(l=e.limit)&&void 0!==l?l:"Kh\xf4ng gi\u1edbi h\u1ea1n"})}),(0,N.jsx)("td",{children:(0,N.jsxs)("div",{className:"d-flex justify-content-end flex-shrink-0",children:[(null===y||void 0===y?void 0:y.includes("GET_BY_ID"))&&(0,N.jsx)(s.rU,{to:{pathname:"/pages/discounts/".concat(e.id)},className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1",children:(0,N.jsx)(m.D8,{path:"/media/icons/duotune/general/gen019.svg",className:"svg-icon-3"})}),(0,N.jsx)(s.rU,{to:{pathname:"/pages/discounts-form/".concat(e.uuid)},"aria-label":"Xem chi ti\u1ebft",className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1",children:(0,N.jsx)(m.D8,{path:"/media/icons/duotune/art/art005.svg",className:"svg-icon-3"})}),(0,N.jsx)(s.rU,{to:"#",className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm",children:(0,N.jsx)(m.D8,{path:"/media/icons/duotune/general/gen027.svg",className:"svg-icon-3"})})]})})]},t)}))})]}),(0,N.jsx)(u.Aw,{totalPage:null!==(a=null===w||void 0===w?void 0:w.last_page)&&void 0!==a?a:1,onChangePage:function(e){var t=(0,n.Z)((0,n.Z)({},j),{},{page:e});b({pathname:g.pathname,search:v.stringify(t)})},defaultPage:null!==(f=null===j||void 0===j?void 0:j.page)&&void 0!==f?f:1})]})})]})]})}},83323:function(e,t,a){a.d(t,{x:function(){return n}});var n={DISCOUNT_PAGE:"DISCOUNT_PAGE"}},11838:function(e,t,a){a.d(t,{Z:function(){return i}});a(72791);var n=a(80184);var i=function(e){var t=e.title,a=e.element;return(0,n.jsx)("div",{className:"toolbar",id:"kt_toolbar",children:(0,n.jsxs)("div",{id:"kt_toolbar_container",className:"container-fluid d-flex flex-stack",children:[(0,n.jsx)("h1",{className:"d-flex align-items-center text-dark fw-bolder my-1 fs-3",children:t}),a]})})}},39891:function(e,t,a){a.d(t,{Z:function(){return C}});var n=a(4942),i=a(63366),s=a(87462),l=a(72791),r=a(41025),o=a(94419),c=a(12065),d=a(47630),m=a(93736),u=a(66199),p=a(94986),h=a(40162),x=a(42071),v=a(75878);var f=(0,v.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);var g=(0,v.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]);var b=(0,v.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),j=a(21217);function y(e){return(0,j.Z)("MuiMenuItem",e)}var N=(0,v.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Z=a(80184),w=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],k=(0,d.ZP)(p.Z,{shouldForwardProp:function(e){return(0,d.FO)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,a.dense&&t.dense,a.divider&&t.divider,!a.disableGutters&&t.gutters]}})((function(e){var t,a=e.theme,i=e.ownerState;return(0,s.Z)({},a.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!i.disableGutters&&{paddingLeft:16,paddingRight:16},i.divider&&{borderBottom:"1px solid ".concat((a.vars||a).palette.divider),backgroundClip:"padding-box"},(t={"&:hover":{textDecoration:"none",backgroundColor:(a.vars||a).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,n.Z)(t,"&.".concat(N.selected),(0,n.Z)({backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / ").concat(a.vars.palette.action.selectedOpacity,")"):(0,c.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity)},"&.".concat(N.focusVisible),{backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / calc(").concat(a.vars.palette.action.selectedOpacity," + ").concat(a.vars.palette.action.focusOpacity,"))"):(0,c.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity+a.palette.action.focusOpacity)})),(0,n.Z)(t,"&.".concat(N.selected,":hover"),{backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / calc(").concat(a.vars.palette.action.selectedOpacity," + ").concat(a.vars.palette.action.hoverOpacity,"))"):(0,c.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity+a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / ").concat(a.vars.palette.action.selectedOpacity,")"):(0,c.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity)}}),(0,n.Z)(t,"&.".concat(N.focusVisible),{backgroundColor:(a.vars||a).palette.action.focus}),(0,n.Z)(t,"&.".concat(N.disabled),{opacity:(a.vars||a).palette.action.disabledOpacity}),(0,n.Z)(t,"& + .".concat(f.root),{marginTop:a.spacing(1),marginBottom:a.spacing(1)}),(0,n.Z)(t,"& + .".concat(f.inset),{marginLeft:52}),(0,n.Z)(t,"& .".concat(b.root),{marginTop:0,marginBottom:0}),(0,n.Z)(t,"& .".concat(b.inset),{paddingLeft:36}),(0,n.Z)(t,"& .".concat(g.root),{minWidth:36}),t),!i.dense&&(0,n.Z)({},a.breakpoints.up("sm"),{minHeight:"auto"}),i.dense&&(0,s.Z)({minHeight:32,paddingTop:4,paddingBottom:4},a.typography.body2,(0,n.Z)({},"& .".concat(g.root," svg"),{fontSize:"1.25rem"})))})),C=l.forwardRef((function(e,t){var a=(0,m.Z)({props:e,name:"MuiMenuItem"}),n=a.autoFocus,c=void 0!==n&&n,d=a.component,p=void 0===d?"li":d,v=a.dense,f=void 0!==v&&v,g=a.divider,b=void 0!==g&&g,j=a.disableGutters,N=void 0!==j&&j,C=a.focusVisibleClassName,_=a.role,I=void 0===_?"menuitem":_,S=a.tabIndex,O=a.className,T=(0,i.Z)(a,w),D=l.useContext(u.Z),M=l.useMemo((function(){return{dense:f||D.dense||!1,disableGutters:N}}),[D.dense,f,N]),P=l.useRef(null);(0,h.Z)((function(){c&&P.current&&P.current.focus()}),[c]);var B,F=(0,s.Z)({},a,{dense:M.dense,divider:b,disableGutters:N}),A=function(e){var t=e.disabled,a=e.dense,n=e.divider,i=e.disableGutters,l=e.selected,r=e.classes,c={root:["root",a&&"dense",t&&"disabled",!i&&"gutters",n&&"divider",l&&"selected"]},d=(0,o.Z)(c,y,r);return(0,s.Z)({},r,d)}(a),G=(0,x.Z)(P,t);return a.disabled||(B=void 0!==S?S:-1),(0,Z.jsx)(u.Z.Provider,{value:M,children:(0,Z.jsx)(k,(0,s.Z)({ref:G,role:I,tabIndex:B,component:p,focusVisibleClassName:(0,r.Z)(A.focusVisible,C),className:(0,r.Z)(A.root,O)},T,{ownerState:F,classes:A}))})}))}}]);
//# sourceMappingURL=389.55b4cc61.chunk.js.map