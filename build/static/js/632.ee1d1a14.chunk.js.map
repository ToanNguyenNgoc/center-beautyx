{"version":3,"file":"static/js/632.ee1d1a14.chunk.js","mappings":"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","sources":["components/ServiceCard/index.tsx","app/pages/discounts/module/discount-detail/index.tsx","app/util/extraProductable.ts","components/TitlePage/index.tsx"],"sourcesContent":["import React from 'react'\nimport {IService} from '../../app/interface/service'\nimport './style.scss'\nimport onErrorImg from '../../app/util/onErrorImg'\nimport {formatPrice} from '../../app/util/format'\n\ninterface IProps {\n  service: IService\n}\n\nfunction ServiceCard(props: IProps) {\n  const {service} = props\n  return (\n    <div className='service-item'>\n      <img\n        src={service?.image_url || service?.org?.image_url}\n        alt=''\n        className='item-img'\n        onError={(e) => onErrorImg(e)}\n      />\n      <div className='detail'>\n        <span className='name'>{service?.service_name}</span>\n        <div className='flex-col price'>\n          <span className='sale'>{formatPrice(service?.price)}Đ</span>\n          <span className='old'>\n            {(service?.special_price > 0 || service?.special_price_momo > 0) &&\n              formatPrice(service?.price)}\n          </span>\n        </div>\n        {service?.org && (\n          <div className='flex-row-al org'>\n            <img src={service?.org?.image_url} alt='' className='org-avatar' />\n            <span className='org-name'>{service.org?.name}</span>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default ServiceCard\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect } from 'react';\nimport \"./style.scss\";\nimport { useSwr, useVerifyRoute } from 'app/hooks';\nimport { Link, useNavigate, useParams } from 'react-router-dom';\nimport { IDiscountPar } from 'app/interface/discounts';\nimport { extraServicesDiscount } from 'app/util/extraProductable';\nimport TitlePage from 'components/TitlePage';\nimport { formatDate, formatPrice } from 'app/util/format';\nimport FlatFormOrder from 'components/PlatForm';\nimport { DiscountsTypeElement, DISCOUNT_UNIT } from 'app/util/fileType';\nimport { IOrganization } from 'app/interface/organization';\nimport { DIRECT_ORG } from 'app/util/directToBeauty';\nimport onErrorImg from 'app/util/onErrorImg';\nimport { IService } from 'app/interface/service';\nimport ServiceCard from 'components/ServiceCard';\nimport { API_ROUTE } from 'app/api/api-route';\n\nfunction DiscountDetail() {\n    const { METHOD } = useVerifyRoute()\n    const params: any = useParams()\n    const navigate = useNavigate();\n    let condition = false\n    if (params.id && METHOD?.includes('GET_BY_ID')) condition = true\n    const { response, error } = useSwr(condition, API_ROUTE.DISCOUNTS_ID(params.id))\n    useEffect(() => { if (error) return navigate(\"/error/404\") }, [error])\n    const discount: IDiscountPar = response\n    const servicesDiscount = extraServicesDiscount(discount);\n\n    return (\n        discount ?\n            <>\n                <TitlePage\n                    title={discount?.title}\n                    element={\n                        METHOD?.includes(\"UPDATE\") ?\n                            <Link\n                                to={{\n                                    pathname: \"/pages/discount-form\",\n                                    search: `id=${discount.id}`\n                                }}\n                                className=\"btn btn-sm btn-success\">Thay đổi thông tin\n                            </Link>\n                            :\n                            <></>\n                    }\n                />\n                <div className=\"card card-custom\">\n                    <div className=\"flex-row-sp card-detail-head\">\n                        <div className=\"left\">\n                            <div className=\"left-item\">\n                                <span className='left-item__title'>Mã giảm giá:</span>\n                                <span className=\"badge badge-light-danger\">{discount.coupon_code}</span>\n                            </div>\n                            <div className=\"left-item\">\n                                <span className=\"left-item__title\">\n                                    Thời gian áp dụng:\n                                </span>\n                                <span className=\"date-ex\">\n                                    {formatDate(discount.valid_from)}-{formatDate(discount.valid_util)}\n                                </span>\n                            </div>\n                        </div>\n                        <div className=\"right\">\n                            <FlatFormOrder platForm={discount.platform ? discount.platform : \"\"} />\n                        </div>\n                    </div>\n                    <div className=\"card-detail-apply\">\n                        <div className=\"card-detail-apply__item\">\n                            <span className=\"title\"> Giảm\n                                {discount?.discount_unit === DISCOUNT_UNIT.PERCENT ? '(%)' : '(VNĐ)'}\n                                : </span>\n                            <span className=\"value\">{formatPrice(discount?.discount_value)}</span>\n                        </div>\n                        <div className=\"card-detail-apply__item\">\n                            <span className=\"title\">\n                                Hình thức giảm giá:\n                            </span>\n                            <DiscountsTypeElement\n                                TYPE={discount.discount_type}\n                            />\n                        </div>\n                        <div className=\"card-detail-apply__item\">\n                            <span className=\"title\"> Giá trị đơn hàng tối thiểu: </span>\n                            <span className=\"value\">{\n                                discount?.minimum_order_value || \"Không ràng buộc\"\n                            }</span>\n                        </div>\n                        <div className=\"card-detail-apply__item\">\n                            <span className=\"title\"> Số lượng: </span>\n                            <span className=\"value\">{\n                                discount?.total || \"Không giới hạn\"\n                            }</span>\n                        </div>\n                        <div className=\"card-detail-apply__item\">\n                            <span className=\"title\">\n                                {discount?.limit ?\n                                    `Giới hạn ${discount?.limit} lần sử dụng mỗi khách hàng`\n                                    :\n                                    `Không giới hạn số lần sử dụng mỗi khách hàng`}\n                            </span>\n                        </div>\n                        <div className=\"card-detail-apply__item\">\n                            <span className=\"title\">\n                                Mô tả:\n                            </span>\n                            <span className=\"value\">{discount?.description}</span>\n                        </div>\n                    </div>\n                    <div className=\"card-org-list\">\n                        <span className=\"title\">\n                            Doanh nghiệp được áp dụng\n                        </span>\n                        <ul className=\"list\">\n                            {\n                                discount?.organizations?.map((org: IOrganization, index: number) => (\n                                    <li key={index} className=\"list-item\">\n                                        <div\n                                            onClick={() => DIRECT_ORG(org)}\n                                            className=\"flex-col-al org-item-card\"\n                                        >\n                                            <img src={org?.image_url}\n                                                alt=\"\"\n                                                className=\"org-avatar\"\n                                                onError={(e) => onErrorImg(e)}\n                                            />\n                                            <span className=\"org-name\">\n                                                {org?.name}\n                                            </span>\n                                        </div>\n                                    </li>\n                                ))\n                            }\n                        </ul>\n                    </div>\n                    <div className=\"card-org-list\">\n                        <span className=\"title\">\n                            Sản phẩm/ Dịch vụ đc áp dụng\n                        </span>\n                        <ul className=\"list\">\n                            {\n                                servicesDiscount?.map((service: IService, index: number) => (\n                                    <li key={index} className=\"list-item\">\n                                        <ServiceCard\n                                            service={service}\n                                        />\n                                    </li>\n                                ))\n                            }\n                        </ul>\n                    </div>\n                </div>\n            </>\n            :\n            <></>\n    );\n}\n\nexport default DiscountDetail;","import { IDiscountPar, IITEMS_DISCOUNT } from \"../interface/discounts\";\nimport { IService } from \"../interface/service\";\nimport { PRODUCTABLE_TYPE } from \"./fileType\";\n\nexport const extraServicesDiscount = (discount: IDiscountPar) => {\n    let servicesDiscount: any[] = []\n    if (discount?.items) {\n        servicesDiscount = discount.items\n            .filter((i: IITEMS_DISCOUNT) => i.productable_type === PRODUCTABLE_TYPE.SERVICE)\n            .map((item: IITEMS_DISCOUNT) => {\n                return {\n                    ...item.productable,\n                    org: item.organization\n                }\n            })\n    }\n    return servicesDiscount\n}","import React from 'react';\nimport './style.scss'\n\ninterface IProps {\n    title: string\n    element?: JSX.Element\n}\n\nfunction TitlePage(props: IProps) {\n    const { title, element } = props;\n    return (\n        <div className='toolbar' id='kt_toolbar'>\n            <div id=\"kt_toolbar_container\" className='container-fluid d-flex flex-stack'>\n                <h1 className='d-flex align-items-center text-dark fw-bolder my-1 fs-3'>\n                    {title}\n                </h1>\n                {element}\n            </div>\n        </div>\n    );\n}\n\nexport default TitlePage;"],"names":["props","_service$org","_service$org2","_service$org3","service","_jsxs","className","children","_jsx","src","image_url","org","alt","onError","e","onErrorImg","service_name","formatPrice","price","special_price","special_price_momo","name","_discount$organizatio","METHOD","useVerifyRoute","params","useParams","navigate","useNavigate","condition","id","includes","_useSwr","useSwr","API_ROUTE","DISCOUNTS_ID","response","error","useEffect","discount","servicesDiscount","items","filter","i","productable_type","PRODUCTABLE_TYPE","SERVICE","map","item","_objectSpread","productable","organization","extraServicesDiscount","_Fragment","TitlePage","title","element","Link","to","pathname","search","concat","coupon_code","formatDate","valid_from","valid_util","FlatFormOrder","platForm","platform","discount_unit","DISCOUNT_UNIT","PERCENT","discount_value","DiscountsTypeElement","TYPE","discount_type","minimum_order_value","total","limit","description","organizations","index","onClick","DIRECT_ORG","ServiceCard"],"sourceRoot":""}